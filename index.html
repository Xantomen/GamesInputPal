<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Made with Games Input Schemer</title>

    <!-- Bootstrap -->
    <link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="src/css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="libs/jsgraphics/wz_jsgraphics.js"></script>
  </head>
  <body>
  	<div id="container_all">
  		
  		<div id="container_top" class="center-block brown">
  
  				<input id="game_title_text" name="game_title" class="h1 text-center center-block" 
  				value="Lovers in a Dangerous Spacetime" placeholder="Write your Game Title here" type="text">
  
  		</div>
  		<div id="container_middle" class="center-block">
  			
  			<div id="left_text_container">
	    		<div id="label_pair1" class="label_pair">
	    			<div label_pair_match="1" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="1" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="1" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		<div id="label_pair2" class="label_pair">
	    			<div label_pair_match="2" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="2" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="2" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		<div id="label_pair3" class="label_pair">
	    			<div label_pair_match="3" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="3" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="3" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		<div id="label_pair4" class="label_pair">
	    			<div label_pair_match="4" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="4" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="4" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		<div id="label_pair5" class="label_pair">
	    			<div label_pair_match="5" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="5" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="5" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		<div id="label_pair6" class="label_pair">
	    			<div label_pair_match="6" class="label_pair_texts_container non_display half_visible">
	    				<input name="game_title" class="h5 text-center center-block 
	    				description_first_language_button_text" value="" 
	    				placeholder="Description in native language" type="text">
			  			<input name="game_title" class="h5 text-center center-block 
			  			description_second_language_button_text" value="" 
			  				placeholder="Description in English" type="text">
	    			</div>
	    			<div label_pair_match="6" class="label_pair_anchor_right label_pair_anchor non_display">
	    				
	    			</div>	
	    			<div label_pair_match="6" class="label_pair_anchor_bottom label_pair_anchor non_display">
	    				
	    			</div>	
	    		</div>
	    		
	    	
	    	</div>
  			<div id="controllers_images_container" class="green">
  				<div id="controllers_image_container">
  					<img id="controllers_image" src="res/img/playstation3_controller.svg" 
  					class="svg img-responsive center-block max_height" alt="Controller IMAGE">
  				</div>
			    
	    	</div>
  			
	    	<div id="right_text_container" class="orange">
	    	RIGHT CONTAINER
	    	</div>
	    	
	    	<div id="number_players_container">
		    	<div id="number_players_image_container">
		    		<img id="players_image" src="res/img/players.png" 
				class="img-responsive center-block max_height" alt="Controller IMAGE">
		    	</div>
	    		
	    		<div id="number_players_inputs_container">
	    			<input id="number_players_min_text" name="number_players_min" class="h1 text-center center-block" 
  					value="1" placeholder="Write your Game Title here" type="text">
  					<div id="number_players_line_text_container">
  						<div id="number_players_line_text" class="h1 text-center center-block">-</div>
					</div>
  					<input id="number_players_max_text" name="number_players_max" class="h1 text-center center-block" 
  					value="2" placeholder="Write your Game Title here" type="text">
	    		</div>
				
	    	</div>
  			
  		</div>
  		<div id="container_bottom" class="center-block green">
  			
  			<input id="description_first_language_text" name="game_title" class="h3 text-center center-block" 
  				value="Steuer mit einem Freunden das Raumschiff und rette die WeltraumhÃ¤schen!" 
  				placeholder="Write a short description in the native language" type="text">
  			<input id="description_second_language_text" name="game_title" class="h3 text-center center-block" 
  				value="Control the spaceship with a friend and save the space bunnies!" 
  				placeholder="Write a short description in English" type="text">
  		</div>
  		
  		
  	</div>
    

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="libs/bootstrap/js/bootstrap.min.js"></script>
    
    <script type="text/javascript">
    	

    	var buttonActive = "none";
    	
    	$(document).ready(function(){
		
    		function reload_screen(){
    	
			  location.reload(true);
			}
			//setTimeout(reload_screen, 50000);
	    	
	    	/*
			 * Replace all SVG images with inline SVG
			 */
			$('img.svg').each(function(){
			    var $img = jQuery(this);
			    var imgID = $img.attr('id');
			    var imgClass = $img.attr('class');
			    var imgURL = $img.attr('src');
			
			    $.get(imgURL, function(data) {
			        // Get the SVG tag, ignore the rest
			        var $svg = $(data).find('svg');
			
			        // Add replaced image's ID to the new SVG
			        if(typeof imgID !== 'undefined') {
			            $svg = $svg.attr('id', imgID);
			        }
			        // Add replaced image's classes to the new SVG
			        if(typeof imgClass !== 'undefined') {
			            $svg = $svg.attr('class', imgClass+' replaced-svg');
			        }
			
			        // Remove any invalid XML tags as per http://validator.w3.org
			        $svg = $svg.removeAttr('xmlns:a');
			
			        // Replace image with new SVG
			        $img.replaceWith($svg);
			
			        // Add a handler
			        $('path').each(function() {
			        				        	
			        	//On SVG Element Click
			            $(this).click(function() {
			            			
			            	var id = $(this).attr('id');
			            			            				            	
			            	$('path').each(function(){
			            		
			            		if($(this).attr('id') != id)
			            		{
			            			$(this).attr("stroke","none");
			            			$(this).attr("stroke-width","6");
			            		}
			            					            		
			            	});
			            	
			            	if($(this).attr("stroke") == "red")
			            	{
			            		buttonActive = "none";
			            		
			            		$(this).attr("stroke","none");
			            		$(this).attr("stroke-width","8");
			            		
			            		$(".label_pair_anchor_right").each(function(){
			            		
			            			$(this).addClass("non_display");
				            	});
				            	
				            	$(".label_pair_anchor_bottom").each(function(){
				            		
				            		$(this).addClass("non_display");
				            	});
			            	}
			            	else
			            	{
			            		buttonActive = id;
			            		
			            		$(this).attr("stroke","red");
			            		$(this).attr("stroke-width","8");
			            		
			            		$(".label_pair_anchor_right").each(function(){
			            		
				            		$(this).removeClass("non_display");
				            	});
				            	
				            	$(".label_pair_anchor_bottom").each(function(){
				            		
				            		$(this).removeClass("non_display");
				            	});
				            	
			            	}

			            	
			            });                       
			        });
	
			    });
			});
					
			function drawLineFunction(x1,y1,x2,y2)
			{
				
			  var adapted_x1 = Math.floor(x1);
			  var adapted_x2 = Math.floor(x2);
			  var adapted_y1 = Math.floor(y1);
			  var adapted_y2 = Math.floor(y2);
			  
			  console.log("x1: "+adapted_x1+" y1: "+adapted_y1+" x2: "+adapted_x2+" y2: "+adapted_y2);
			  
			  //jg_doc.drawPolyline(new Array(50, 10, 120), new Array(10, 50, 70));
			  jg_doc.setPrintable(true);
			  jg_doc.setColor("#6699ff");
			  jg_doc.setStroke(20);
			  jg_doc.drawLine(adapted_x1, adapted_y1, adapted_x2, adapted_y2);
			  jg_doc.paint(); // draws, in this case, directly into the document
			
			}
			
			var jg_doc = new jsGraphics("container_all");
			

			//Function that occurs when linking a Button with a Laber Pair Anchor
						
			$('.label_pair_anchor').click(function(){
				
				var selected_button = $('path[id='+buttonActive+']');
				
				//alert(selected_button.position().top + "-" + selected_button.position().left);

				var label_pair_match = $(this).attr("label_pair_match");
				
				var label_pair_texts_container = $('.label_pair_texts_container[label_pair_match='+label_pair_match+']');
								
				drawLineFunction(selected_button.offset().left, selected_button.offset().top,
				$(this).offset().left, $(this).offset().top);
				
				label_pair_texts_container.removeClass("non_display").removeClass("half_visible");
				$(this).addClass("completed_link");
				
				buttonActive = "none";
			            		
			    $('path').each(function(){
        		
        			$(this).attr("stroke","none");
        			$(this).attr("stroke-width","8");
            	});

        		$(".label_pair_anchor_right").each(function(){
        		
        			$(this).addClass("non_display");
            	});
            	
            	$(".label_pair_anchor_bottom").each(function(){
            		
            		$(this).addClass("non_display");
            	});
				
			});
			    		
    	});
    	
    	
    	
    </script>
  </body>
</html>